import{r as L,R as Mr,_ as Ar,a as Lr}from"../vendor.ad30dc39.js";import{E as g,F as v,e as X,S as H,T as ze,C as Dr,g as wr,h,A as Mt,j as C,M as At,R as I,V as Z,B as Lt,P as Ue,D as M,k as Dt,l as wt,m as Bt,n as he,o as p,W as Et,p as ee,N as te,q as Ve,r as de,u as Je,I as Rt,v as Tt,w as Ot,x as Br,y as me,z as ge,G as K,H as pe,J as Pt,K as Er,O as Rr,Q as It,U as Tr,X as Or,Y as Pr,Z as Nt,_ as Ir,$ as Nr,a0 as Gr,a1 as Fr,a2 as Gt,a3 as $r,a4 as qr,t as d,a5 as Hr}from"../@codemirror/lang-javascript.a67809d3.js";const Ke=Mt.define(),Wr=Mt.define(),_r=v.define(),Ft=v.define({combine(t){return X(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}}),$t=H.define({create(){return E.empty},update(t,e){let n=e.state.facet(Ft),r=e.annotation(Ke);if(r){let a=S.fromTransaction(e),c=r.side,f=c==0?t.undone:t.done;return a?f=xe(f,f.length,n.minDepth,a):f=_t(f,e.startState.selection),new E(c==0?r.rest:f,c==0?f:r.rest)}let o=e.annotation(Wr);if((o=="full"||o=="before")&&(t=t.isolate()),e.annotation(ze.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let i=S.fromTransaction(e),s=e.annotation(ze.time),l=e.annotation(ze.userEvent);return i?t=t.addChanges(i,s,l,n.newGroupDelay,n.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,s,l,n.newGroupDelay)),(o=="full"||o=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new E(t.done.map(S.fromJSON),t.undone.map(S.fromJSON))}});function zr(t={}){return[$t,Ft.of(t),g.domEventHandlers({beforeinput(e,n){return e.inputType=="historyUndo"?qt(n):e.inputType=="historyRedo"?Ht(n):!1}})]}function ye(t,e){return function({state:n,dispatch:r}){let o=n.field($t,!1);if(!o)return!1;let i=o.pop(t,n,e);return i?(r(i),!0):!1}}const qt=ye(0,!1),Ht=ye(1,!1),Ur=ye(0,!0),Vr=ye(1,!0);class S{constructor(e,n,r,o,i){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=o,this.selectionsAfter=i}setSelAfter(e){return new S(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(e){return new S(e.changes&&Dr.fromJSON(e.changes),[],e.mapped&&wr.fromJSON(e.mapped),e.startSelection&&h.fromJSON(e.startSelection),e.selectionsAfter.map(h.fromJSON))}static fromTransaction(e){let n=D;for(let r of e.startState.facet(_r)){let o=r(e);o.length&&(n=n.concat(o))}return!n.length&&e.changes.empty?null:new S(e.changes.invert(e.startState.doc),n,void 0,e.startState.selection,D)}static selection(e){return new S(void 0,D,void 0,void 0,e)}}function xe(t,e,n,r){let o=e+1>n+20?e-n-1:0,i=t.slice(o,e);return i.push(r),i}function Jr(t,e){let n=[],r=!1;return t.iterChangedRanges((o,i)=>n.push(o,i)),e.iterChangedRanges((o,i,s,l)=>{for(let a=0;a<n.length;){let c=n[a++],f=n[a++];l>=c&&s<=f&&(r=!0)}}),r}function Kr(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function Wt(t,e){return t.length?e.length?t.concat(e):t:e}const D=[],jr=200;function _t(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-jr));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),xe(t,t.length-1,1e9,n.setSelAfter(r)))}else return[S.selection([e])]}function Qr(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function je(t,e){if(!t.length)return t;let n=t.length,r=D;for(;n;){let o=Yr(t[n-1],e,r);if(o.changes&&!o.changes.empty||o.effects.length){let i=t.slice(0,n);return i[n-1]=o,i}else e=o.mapped,n--,r=o.selectionsAfter}return r.length?[S.selection(r)]:D}function Yr(t,e,n){let r=Wt(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):D,n);if(!t.changes)return S.selection(r);let o=t.changes.map(e),i=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(i):i;return new S(o,C.mapEffects(t.effects,e),s,t.startSelection.map(i),r)}class E{constructor(e,n,r=0,o=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=o}isolate(){return this.prevTime?new E(this.done,this.undone):this}addChanges(e,n,r,o,i){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!l.selectionsAfter.length&&n-this.prevTime<o&&Jr(l.changes,e.changes)||r=="input.type.compose")?s=xe(s,s.length-1,i,new S(e.changes.compose(l.changes),Wt(e.effects,l.effects),l.mapped,l.startSelection,D)):s=xe(s,s.length,i,e),new E(s,D,n,r)}addSelection(e,n,r,o){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:D;return i.length>0&&n-this.prevTime<o&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Kr(i[i.length-1],e)?this:new E(_t(this.done,e),this.undone,n,r)}addMapping(e){return new E(je(this.done,e),je(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let o=e==0?this.done:this.undone;if(o.length==0)return null;let i=o[o.length-1];if(r&&i.selectionsAfter.length)return n.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Ke.of({side:e,rest:Qr(o)}),userEvent:e==0?"select.undo":"select.redo"});if(i.changes){let s=o.length==1?D:o.slice(0,o.length-1);return i.mapped&&(s=je(s,i.mapped)),n.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Ke.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo"})}else return null}}E.empty=new E(D,D);const Xr=[{key:"Mod-z",run:qt,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ht,preventDefault:!0},{key:"Mod-u",run:Ur,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Vr,preventDefault:!0}];class N extends Dt{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}}N.prototype.elementClass="";N.prototype.toDOM=void 0;N.prototype.mapMode=At.TrackBefore;N.prototype.startSide=N.prototype.endSide=-1;N.prototype.point=!0;const be=v.define(),Zr={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>I.empty,lineMarker:()=>null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ne=v.define();function eo(t){return[zt(),ne.of(Object.assign(Object.assign({},Zr),t))]}const to=g.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),Qe=v.define({combine:t=>t.some(e=>e)});function zt(t){let e=[no,to];return t&&t.fixed===!1&&e.push(Qe.of(!0)),e}const no=Z.fromClass(class{constructor(t){this.view=t,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.gutters=t.state.facet(ne).map(e=>new Jt(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Qe),this.fixed&&(this.dom.style.position="sticky"),t.scrollDOM.insertBefore(this.dom,t.contentDOM),this.syncGutters()}update(t){this.updateGutters(t)&&this.syncGutters()}syncGutters(){let t=I.iter(this.view.state.facet(be),this.view.viewport.from),e=[],n=this.gutters.map(r=>new ro(r,this.view.viewport));this.view.viewportLines(r=>{let o;if(Array.isArray(r.type)){for(let i of r.type)if(i.type==Lt.Text){o=i;break}}else o=r.type==Lt.Text?r:void 0;if(!!o){e.length&&(e=[]),Vt(t,e,r.from);for(let i of n)i.line(this.view,o,e)}},0);for(let r of n)r.finish();this.dom.style.minHeight=this.view.contentHeight+"px",this.view.state.facet(Qe)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"")}updateGutters(t){let e=t.startState.facet(ne),n=t.state.facet(ne),r=t.docChanged||t.heightChanged||t.viewportChanged||!I.eq(t.startState.facet(be),t.state.facet(be),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let o of this.gutters)o.update(t)&&(r=!0);else{r=!0;let o=[];for(let i of n){let s=e.indexOf(i);s<0?o.push(new Jt(this.view,i)):(this.gutters[s].update(t),o.push(this.gutters[s]))}for(let i of this.gutters)i.dom.remove();for(let i of o)this.dom.appendChild(i.dom);this.gutters=o}return r}destroy(){this.dom.remove()}},{provide:Ue.scrollMargins.from(t=>t.gutters.length==0||!t.fixed?null:t.view.textDirection==M.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth})});function Ut(t){return Array.isArray(t)?t:[t]}function Vt(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class ro{constructor(e,n){this.gutter=e,this.localMarkers=[],this.i=0,this.height=0,this.cursor=I.iter(e.markers,n.from)}line(e,n,r){this.localMarkers.length&&(this.localMarkers=[]),Vt(this.cursor,this.localMarkers,n.from);let o=r.length?this.localMarkers.concat(r):this.localMarkers,i=this.gutter.config.lineMarker(e,n,o);i&&o.unshift(i);let s=this.gutter;if(o.length==0&&!s.config.renderEmptyElements)return;let l=n.top-this.height;if(this.i==s.elements.length){let a=new Kt(e,n.height,l,o);s.elements.push(a),s.dom.appendChild(a.dom)}else{let a=s.elements[this.i];oo(o,a.markers)&&(o=a.markers),a.update(e,n.height,l,o)}this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;)e.dom.removeChild(e.elements.pop().dom)}}class Jt{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,o=>{let i=e.visualLineAtHeight(o.clientY,e.contentDOM.getBoundingClientRect().top);n.domEventHandlers[r](e,i,o)&&o.preventDefault()});this.markers=Ut(n.markers(e)),n.initialSpacer&&(this.spacer=new Kt(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=Ut(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],e);o!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[o])}let r=e.view.viewport;return!I.eq(this.markers,n,r.from,r.to)}}class Kt{constructor(e,n,r,o){this.height=-1,this.above=0,this.dom=document.createElement("div"),this.update(e,n,r,o)}update(e,n,r,o){if(this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),this.markers!=o){this.markers=o;for(let s;s=this.dom.lastChild;)s.remove();let i="cm-gutterElement";for(let s of o){s.toDOM&&this.dom.appendChild(s.toDOM(e));let l=s.elementClass;l&&(i+=" "+l)}this.dom.className=i}}}function oo(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const io=v.define(),ke=v.define({combine(t){return X(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let o in n){let i=r[o],s=n[o];r[o]=i?(l,a,c)=>i(l,a,c)||s(l,a,c):s}return r}})}});class Ye extends N{constructor(e){super();this.number=e}eq(e){return this.number==e.number}toDOM(e){return document.createTextNode(this.number)}}function Xe(t,e){return t.state.facet(ke).formatNumber(e,t.state)}const so=ne.compute([ke],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(io)},lineMarker(e,n,r){return r.some(o=>o.toDOM)?null:new Ye(Xe(e,e.state.doc.lineAt(n.from).number))},initialSpacer(e){return new Ye(Xe(e,jt(e.state.doc.lines)))},updateSpacer(e,n){let r=Xe(n.view,jt(n.view.state.doc.lines));return r==e.number?e:new Ye(r)},domEventHandlers:t.facet(ke).domEventHandlers}));function lo(t={}){return[ke.of(t),zt(),so]}function jt(t){let e=9;for(;e<t;)e=e*10+9;return e}const ao=new class extends N{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}},co=be.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges)if(r.empty){let o=t.doc.lineAt(r.head).from;o>n&&(n=o,e.push(ao.range(o)))}return I.of(e)});function fo(){return co}function Qt(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Ce=C.define({map:Qt}),re=C.define({map:Qt});function Yt(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.visualLineAt(n));return e}const W=H.define({create(){return p.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(Ce)&&!uo(t,n.value.from,n.value.to)?t=t.update({add:[bo.range(n.value.from,n.value.to)]}):n.is(re)&&(t=t.update({filter:(r,o)=>n.value.from!=r||n.value.to!=o,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(o,i)=>{o<r&&i>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(o,i)=>i<=r||o>=r}))}return t},provide:t=>g.decorations.from(t)});function Se(t,e,n){var r;let o=null;return(r=t.field(W,!1))===null||r===void 0||r.between(e,n,(i,s)=>{(!o||o.from>i)&&(o={from:i,to:s})}),o}function uo(t,e,n){let r=!1;return t.between(e,e,(o,i)=>{o==e&&i==n&&(r=!0)}),r}function Xt(t,e){return t.field(W,!1)?e:e.concat(C.appendConfig.of(tn()))}const ho=t=>{for(let e of Yt(t)){let n=he(t.state,e.from,e.to);if(n)return t.dispatch({effects:Xt(t.state,[Ce.of(n),Zt(t,n)])}),!0}return!1},mo=t=>{if(!t.state.field(W,!1))return!1;let e=[];for(let n of Yt(t)){let r=Se(t.state,n.from,n.to);r&&e.push(re.of(r),Zt(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Zt(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,o=t.state.doc.lineAt(e.to).number;return g.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${o}.`)}const go=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let o=t.visualLineAt(r),i=he(e,o.from,o.to);i&&n.push(Ce.of(i)),r=(i?t.visualLineAt(i.to):o).to+1}return n.length&&t.dispatch({effects:Xt(t.state,n)}),!!n.length},po=t=>{let e=t.state.field(W,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,o)=>{n.push(re.of({from:r,to:o}))}),t.dispatch({effects:n}),!0},yo=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:ho},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:mo},{key:"Ctrl-Alt-[",run:go},{key:"Ctrl-Alt-]",run:po}],xo={placeholderDOM:null,placeholderText:"\u2026"},en=v.define({combine(t){return X(t,xo)}});function tn(t){let e=[W,So];return t&&e.push(en.of(t)),e}const bo=p.replace({widget:new class extends Et{ignoreEvents(){return!1}toDOM(t){let{state:e}=t,n=e.facet(en);if(n.placeholderDOM)return n.placeholderDOM();let r=document.createElement("span");return r.textContent=n.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=o=>{let i=t.visualLineAt(t.posAtDOM(o.target)),s=Se(t.state,i.from,i.to);s&&t.dispatch({effects:re.of(s)}),o.preventDefault()},r}}}),ko={openText:"\u2304",closedText:"\u203A",markerDOM:null};class Ze extends N{constructor(e,n){super();this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Co(t={}){let e=Object.assign(Object.assign({},ko),t),n=new Ze(e,!0),r=new Ze(e,!1),o=Z.fromClass(class{constructor(i){this.from=i.viewport.from,this.markers=this.buildMarkers(i)}update(i){(i.docChanged||i.viewportChanged||i.startState.facet(wt)!=i.state.facet(wt)||i.startState.field(W,!1)!=i.state.field(W,!1))&&(this.markers=this.buildMarkers(i.view))}buildMarkers(i){let s=new Bt;return i.viewportLines(l=>{let a=Se(i.state,l.from,l.to)?r:he(i.state,l.from,l.to)?n:null;a&&s.add(l.from,l.from,a)}),s.finish()}});return[o,eo({class:"cm-foldGutter",markers(i){var s;return((s=i.plugin(o))===null||s===void 0?void 0:s.markers)||I.empty},initialSpacer(){return new Ze(e,!1)},domEventHandlers:{click:(i,s)=>{let l=Se(i.state,s.from,s.to);if(l)return i.dispatch({effects:re.of(l)}),!0;let a=he(i.state,s.from,s.to);return a?(i.dispatch({effects:Ce.of(a)}),!0):!1}}}),tn()]}const So=g.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter .cm-gutterElement":{padding:"0 1px",cursor:"pointer"}}),vo=g.baseTheme({".cm-matchingBracket":{backgroundColor:"#328c8252"},".cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),nn=1e4,rn="()[]{}",on=v.define({combine(t){return X(t,{afterCursor:!0,brackets:rn,maxScanDistance:nn})}}),Mo=p.mark({class:"cm-matchingBracket"}),Ao=p.mark({class:"cm-nonmatchingBracket"}),Lo=H.define({create(){return p.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(on);for(let o of e.state.selection.ranges){if(!o.empty)continue;let i=R(e.state,o.head,-1,r)||o.head>0&&R(e.state,o.head-1,1,r)||r.afterCursor&&(R(e.state,o.head,1,r)||o.head<e.state.doc.length&&R(e.state,o.head+1,-1,r));if(!i)continue;let s=i.matched?Mo:Ao;n.push(s.range(i.start.from,i.start.to)),i.end&&n.push(s.range(i.end.from,i.end.to))}return p.set(n,!0)},provide:t=>g.decorations.from(t)}),Do=[Lo,vo];function wo(t={}){return[on.of(t),Do]}function et(t,e,n){let r=t.prop(e<0?te.openedBy:te.closedBy);if(r)return r;if(t.name.length==1){let o=n.indexOf(t.name);if(o>-1&&o%2==(e<0?1:0))return[n[o+e]]}return null}function R(t,e,n,r={}){let o=r.maxScanDistance||nn,i=r.brackets||rn,s=ee(t),l=s.resolveInner(e,n);for(let a=l;a;a=a.parent){let c=et(a.type,n,i);if(c&&a.from<a.to)return Bo(t,e,n,a,c,i)}return Eo(t,e,n,s,l.type,o,i)}function Bo(t,e,n,r,o,i){let s=r.parent,l={from:r.from,to:r.to},a=0,c=s==null?void 0:s.cursor;if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(a==0&&o.indexOf(c.type.name)>-1&&c.from<c.to)return{start:l,end:{from:c.from,to:c.to},matched:!0};if(et(c.type,n,i))a++;else if(et(c.type,-n,i)&&(a--,a==0))return{start:l,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Eo(t,e,n,r,o,i,s){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},f=t.doc.iterRange(e,n>0?t.doc.length:0),u=0;for(let m=0;!f.next().done&&m<=i;){let x=f.value;n<0&&(m+=x.length);let b=e+m*n;for(let w=n>0?0:x.length-1,z=n>0?x.length:-1;w!=z;w+=n){let F=s.indexOf(x[w]);if(!(F<0||r.resolve(b+w,1).type!=o))if(F%2==0==n>0)u++;else{if(u==1)return{start:c,end:{from:b+w,to:b+w+1},matched:F>>1==a>>1};u--}}n>0&&(m+=x.length)}return f.done?{start:c,matched:!1}:null}function oe(t,e){return h.create(t.ranges.map(e),t.mainIndex)}function G(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function T({state:t,dispatch:e},n){let r=oe(t.selection,n);return r.eq(t.selection)?!1:(e(G(t,r)),!0)}function ve(t,e){return h.cursor(e?t.to:t.from)}function sn(t,e){return T(t,n=>n.empty?t.moveByChar(n,e):ve(n,e))}const ln=t=>sn(t,t.textDirection!=M.LTR),an=t=>sn(t,t.textDirection==M.LTR);function cn(t,e){return T(t,n=>n.empty?t.moveByGroup(n,e):ve(n,e))}const Ro=t=>cn(t,t.textDirection!=M.LTR),To=t=>cn(t,t.textDirection==M.LTR);function Oo(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Me(t,e,n){let r=ee(t).resolveInner(e.head),o=n?te.closedBy:te.openedBy;for(let a=e.head;;){let c=n?r.childAfter(a):r.childBefore(a);if(!c)break;Oo(t,c,o)?r=c:a=n?c.to:c.from}let i=r.type.prop(o),s,l;return i&&(s=n?R(t,r.from,1):R(t,r.to,-1))&&s.matched?l=n?s.end.to:s.end.from:l=n?r.to:r.from,h.cursor(l,n?-1:1)}const Po=t=>T(t,e=>Me(t.state,e,t.textDirection!=M.LTR)),Io=t=>T(t,e=>Me(t.state,e,t.textDirection==M.LTR));function fn(t,e){return T(t,n=>{if(!n.empty)return ve(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const un=t=>fn(t,!1),hn=t=>fn(t,!0);function dn(t,e){return T(t,n=>n.empty?t.moveVertically(n,e,t.dom.clientHeight):ve(n,e))}const tt=t=>dn(t,!1),nt=t=>dn(t,!0);function Ae(t,e,n){let r=t.visualLineAt(e.head),o=t.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?r.to:r.from)&&(o=t.moveToLineBoundary(e,n,!1)),!n&&o.head==r.from&&r.length){let i=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(o=h.cursor(r.from+i))}return o}const mn=t=>T(t,e=>Ae(t,e,!0)),gn=t=>T(t,e=>Ae(t,e,!1)),No=t=>T(t,e=>h.cursor(t.visualLineAt(e.head).from,1)),Go=t=>T(t,e=>h.cursor(t.visualLineAt(e.head).to,-1));function Fo(t,e,n){let r=!1,o=oe(t.selection,i=>{let s=R(t,i.head,-1)||R(t,i.head,1)||i.head>0&&R(t,i.head-1,1)||i.head<t.doc.length&&R(t,i.head+1,-1);if(!s||!s.end)return i;r=!0;let l=s.start.from==i.head?s.end.to:s.end.from;return n?h.range(i.anchor,l):h.cursor(l)});return r?(e(G(t,o)),!0):!1}const $o=({state:t,dispatch:e})=>Fo(t,e,!1);function O(t,e){let n=oe(t.state.selection,r=>{let o=e(r);return h.range(r.anchor,o.head,o.goalColumn)});return n.eq(t.state.selection)?!1:(t.dispatch(G(t.state,n)),!0)}function pn(t,e){return O(t,n=>t.moveByChar(n,e))}const yn=t=>pn(t,t.textDirection!=M.LTR),xn=t=>pn(t,t.textDirection==M.LTR);function bn(t,e){return O(t,n=>t.moveByGroup(n,e))}const qo=t=>bn(t,t.textDirection!=M.LTR),Ho=t=>bn(t,t.textDirection==M.LTR),Wo=t=>O(t,e=>Me(t.state,e,t.textDirection!=M.LTR)),_o=t=>O(t,e=>Me(t.state,e,t.textDirection==M.LTR));function kn(t,e){return O(t,n=>t.moveVertically(n,e))}const Cn=t=>kn(t,!1),Sn=t=>kn(t,!0);function vn(t,e){return O(t,n=>t.moveVertically(n,e,t.dom.clientHeight))}const Mn=t=>vn(t,!1),An=t=>vn(t,!0),Ln=t=>O(t,e=>Ae(t,e,!0)),Dn=t=>O(t,e=>Ae(t,e,!1)),zo=t=>O(t,e=>h.cursor(t.visualLineAt(e.head).from)),Uo=t=>O(t,e=>h.cursor(t.visualLineAt(e.head).to)),rt=({state:t,dispatch:e})=>(e(G(t,{anchor:0})),!0),ot=({state:t,dispatch:e})=>(e(G(t,{anchor:t.doc.length})),!0),wn=({state:t,dispatch:e})=>(e(G(t,{anchor:t.selection.main.anchor,head:0})),!0),Bn=({state:t,dispatch:e})=>(e(G(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Vo=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Jo=({state:t,dispatch:e})=>{let n=we(t).map(({from:r,to:o})=>h.range(r,Math.min(o+1,t.doc.length)));return e(t.update({selection:h.create(n),userEvent:"select"})),!0},Ko=({state:t,dispatch:e})=>{let n=oe(t.selection,r=>{var o;let i=ee(t).resolveInner(r.head,1);for(;!(i.from<r.from&&i.to>=r.to||i.to>r.to&&i.from<=r.from||!((o=i.parent)===null||o===void 0?void 0:o.parent));)i=i.parent;return h.range(i.to,i.from)});return e(G(t,n)),!0},jo=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=h.create([n.main]):n.main.empty||(r=h.create([h.cursor(n.main.head)])),r?(e(G(t,r)),!0):!1};function Le({state:t,dispatch:e},n){if(t.readOnly)return!1;let r="delete.selection",o=t.changeByRange(i=>{let{from:s,to:l}=i;if(s==l){let a=n(s);a<s?r="delete.backward":a>s&&(r="delete.forward"),s=Math.min(s,a),l=Math.max(l,a)}return s==l?{range:i}:{changes:{from:s,to:l},range:h.cursor(s)}});return o.changes.empty?!1:(e(t.update(o,{scrollIntoView:!0,userEvent:r})),!0)}function De(t,e,n){if(t instanceof g)for(let r of t.pluginField(Ue.atomicRanges))r.between(e,e,(o,i)=>{o<e&&i>e&&(e=n?i:o)});return e}const En=(t,e)=>Le(t,n=>{let{state:r}=t,o=r.doc.lineAt(n),i,s;if(!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(i=o.text.slice(0,n-o.from))){if(i[i.length-1]=="	")return n-1;let l=Ve(i,r.tabSize),a=l%Je(r)||Je(r);for(let c=0;c<a&&i[i.length-1-c]==" ";c++)n--;s=n}else s=me(o.text,n-o.from,e)+o.from,s==n&&o.number!=(e?r.doc.lines:1)&&(s+=e?1:-1);return De(t,s,e)}),it=t=>En(t,!1),st=t=>En(t,!0),Rn=(t,e)=>Le(t,n=>{let r=n,{state:o}=t,i=o.doc.lineAt(r),s=o.charCategorizer(r);for(let l=null;;){if(r==(e?i.to:i.from)){r==n&&i.number!=(e?o.doc.lines:1)&&(r+=e?1:-1);break}let a=me(i.text,r-i.from,e)+i.from,c=i.text.slice(Math.min(r,a)-i.from,Math.max(r,a)-i.from),f=s(c);if(l!=null&&f!=l)break;(c!=" "||r!=n)&&(l=f),r=a}return De(t,r,e)}),Tn=t=>Rn(t,!1),Qo=t=>Rn(t,!0),On=t=>Le(t,e=>{let n=t.visualLineAt(e).to;return De(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)}),Yo=t=>Le(t,e=>{let n=t.visualLineAt(e).from;return De(t,e>n?n:Math.max(0,e-1),!1)}),Xo=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ot.of(["",""])},range:h.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Zo=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let o=r.from,i=t.doc.lineAt(o),s=o==i.from?o-1:me(i.text,o-i.from,!1)+i.from,l=o==i.to?o+1:me(i.text,o-i.from,!0)+i.from;return{changes:{from:s,to:l,insert:t.doc.slice(o,l).append(t.doc.slice(s,o))},range:h.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function we(t){let e=[],n=-1;for(let r of t.selection.ranges){let o=t.doc.lineAt(r.from),i=t.doc.lineAt(r.to);if(!r.empty&&r.to==i.from&&(i=t.doc.lineAt(r.to-1)),n>=o.number){let s=e[e.length-1];s.to=i.to,s.ranges.push(r)}else e.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return e}function Pn(t,e,n){if(t.readOnly)return!1;let r=[],o=[];for(let i of we(t)){if(n?i.to==t.doc.length:i.from==0)continue;let s=t.doc.lineAt(n?i.to+1:i.from-1),l=s.length+1;if(n){r.push({from:i.to,to:s.to},{from:i.from,insert:s.text+t.lineBreak});for(let a of i.ranges)o.push(h.range(Math.min(t.doc.length,a.anchor+l),Math.min(t.doc.length,a.head+l)))}else{r.push({from:s.from,to:i.from},{from:i.to,insert:t.lineBreak+s.text});for(let a of i.ranges)o.push(h.range(a.anchor-l,a.head-l))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:h.create(o,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const ei=({state:t,dispatch:e})=>Pn(t,e,!1),ti=({state:t,dispatch:e})=>Pn(t,e,!0);function In(t,e,n){if(t.readOnly)return!1;let r=[];for(let o of we(t))n?r.push({from:o.from,insert:t.doc.slice(o.from,o.to)+t.lineBreak}):r.push({from:o.to,insert:t.lineBreak+t.doc.slice(o.from,o.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const ni=({state:t,dispatch:e})=>In(t,e,!1),ri=({state:t,dispatch:e})=>In(t,e,!0),oi=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(we(e).map(({from:o,to:i})=>(o>0?o--:i<e.doc.length&&i++,{from:o,to:i}))),r=oe(e.selection,o=>t.moveVertically(o,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function ii(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=ee(t).resolveInner(e),r=n.childBefore(e),o=n.childAfter(e),i;return r&&o&&r.to<=e&&o.from>=e&&(i=r.type.prop(te.closedBy))&&i.indexOf(o.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(o.from).from?{from:r.to,to:o.from}:null}const si=Nn(!1),li=Nn(!0);function Nn(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(o=>{let{from:i,to:s}=o,l=e.doc.lineAt(i),a=!t&&i==s&&ii(e,i);t&&(i=s=(s<=l.to?l:e.doc.lineAt(s)).to);let c=new Rt(e,{simulateBreak:i,simulateDoubleBreak:!!a}),f=Tt(c,i);for(f==null&&(f=/^\s*/.exec(e.doc.lineAt(i).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:i,to:s}=a:i>l.from&&i<l.from+100&&!/\S/.test(l.text.slice(0,i))&&(i=l.from);let u=["",de(e,f)];return a&&u.push(de(e,c.lineIndent(l.from,-1))),{changes:{from:i,to:s,insert:Ot.of(u)},range:h.cursor(i+1+u[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function lt(t,e){let n=-1;return t.changeByRange(r=>{let o=[];for(let s=r.from;s<=r.to;){let l=t.doc.lineAt(s);l.number>n&&(r.empty||r.to>l.from)&&(e(l,o,r),n=l.number),s=l.to+1}let i=t.changes(o);return{changes:o,range:h.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}const ai=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Rt(t,{overrideIndentation:i=>{let s=n[i];return s==null?-1:s}}),o=lt(t,(i,s,l)=>{let a=Tt(r,i.from);if(a==null)return;/\S/.test(i.text)||(a=0);let c=/^\s*/.exec(i.text)[0],f=de(t,a);(c!=f||l.from<i.from+c.length)&&(n[i.from]=a,s.push({from:i.from,to:i.from+c.length,insert:f}))});return o.changes.empty||e(t.update(o,{userEvent:"indent"})),!0},Gn=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(lt(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Br)})}),{userEvent:"input.indent"})),!0),Fn=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(lt(t,(n,r)=>{let o=/^\s*/.exec(n.text)[0];if(!o)return;let i=Ve(o,t.tabSize),s=0,l=de(t,Math.max(0,i-Je(t)));for(;s<o.length&&s<l.length&&o.charCodeAt(s)==l.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+o.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),ci=[{key:"Ctrl-b",run:ln,shift:yn,preventDefault:!0},{key:"Ctrl-f",run:an,shift:xn},{key:"Ctrl-p",run:un,shift:Cn},{key:"Ctrl-n",run:hn,shift:Sn},{key:"Ctrl-a",run:No,shift:zo},{key:"Ctrl-e",run:Go,shift:Uo},{key:"Ctrl-d",run:st},{key:"Ctrl-h",run:it},{key:"Ctrl-k",run:On},{key:"Ctrl-Alt-h",run:Tn},{key:"Ctrl-o",run:Xo},{key:"Ctrl-t",run:Zo},{key:"Alt-<",run:rt},{key:"Alt->",run:ot},{key:"Ctrl-v",run:nt},{key:"Alt-v",run:tt}],fi=[{key:"ArrowLeft",run:ln,shift:yn,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Ro,shift:qo},{mac:"Cmd-ArrowLeft",run:gn,shift:Dn},{key:"ArrowRight",run:an,shift:xn,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:To,shift:Ho},{mac:"Cmd-ArrowRight",run:mn,shift:Ln},{key:"ArrowUp",run:un,shift:Cn,preventDefault:!0},{mac:"Cmd-ArrowUp",run:rt,shift:wn},{mac:"Ctrl-ArrowUp",run:tt,shift:Mn},{key:"ArrowDown",run:hn,shift:Sn,preventDefault:!0},{mac:"Cmd-ArrowDown",run:ot,shift:Bn},{mac:"Ctrl-ArrowDown",run:nt,shift:An},{key:"PageUp",run:tt,shift:Mn},{key:"PageDown",run:nt,shift:An},{key:"Home",run:gn,shift:Dn},{key:"Mod-Home",run:rt,shift:wn},{key:"End",run:mn,shift:Ln},{key:"Mod-End",run:ot,shift:Bn},{key:"Enter",run:si},{key:"Mod-a",run:Vo},{key:"Backspace",run:it,shift:it},{key:"Delete",run:st,shift:st},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Tn},{key:"Mod-Delete",mac:"Alt-Delete",run:Qo},{mac:"Mod-Backspace",run:Yo},{mac:"Mod-Delete",run:On}].concat(ci.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),ui=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Po,shift:Wo},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Io,shift:_o},{key:"Alt-ArrowUp",run:ei},{key:"Shift-Alt-ArrowUp",run:ni},{key:"Alt-ArrowDown",run:ti},{key:"Shift-Alt-ArrowDown",run:ri},{key:"Escape",run:jo},{key:"Mod-Enter",run:li},{key:"Alt-l",mac:"Ctrl-l",run:Jo},{key:"Mod-i",run:Ko,preventDefault:!0},{key:"Mod-[",run:Fn},{key:"Mod-]",run:Gn},{key:"Mod-Alt-\\",run:ai},{key:"Shift-Mod-k",run:oi},{key:"Shift-Mod-\\",run:$o}].concat(fi),hi={key:"Tab",run:Gn,shift:Fn},Be={brackets:["(","[","{","'",'"'],before:`)]}'":;>`},_=C.define({map(t,e){let n=e.mapPos(t,-1,At.TrackAfter);return n==null?void 0:n}}),at=C.define({map(t,e){return e.mapPos(t)}}),ct=new class extends Dt{};ct.startSide=1;ct.endSide=-1;const $n=H.define({create(){return I.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=I.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(_)?t=t.update({add:[ct.range(n.value,n.value+1)]}):n.is(at)&&(t=t.update({filter:r=>r!=n.value}));return t}});function di(){return[g.inputHandler.of(mi),$n]}const ft="()[]{}<>";function qn(t){for(let e=0;e<ft.length;e+=2)if(ft.charCodeAt(e)==t)return ft.charAt(e+1);return Pt(t<128?t:t+1)}function Hn(t,e){return t.languageDataAt("closeBrackets",e)[0]||Be}function mi(t,e,n,r){if(t.composing)return!1;let o=t.state.selection.main;if(r.length>2||r.length==2&&ge(K(r,0))==1||e!=o.from||n!=o.to)return!1;let i=yi(t.state,r);return i?(t.dispatch(i),!0):!1}const gi=({state:t,dispatch:e})=>{let r=Hn(t,t.selection.main.head).brackets||Be.brackets,o=null,i=t.changeByRange(s=>{if(s.empty){let l=xi(t.doc,s.head);for(let a of r)if(a==l&&Ee(t.doc,s.head)==qn(K(a,0)))return{changes:{from:s.head-a.length,to:s.head+a.length},range:h.cursor(s.head-a.length),userEvent:"delete.backward"}}return{range:o=s}});return o||e(t.update(i,{scrollIntoView:!0})),!o},pi=[{key:"Backspace",run:gi}];function yi(t,e){let n=Hn(t,t.selection.main.head),r=n.brackets||Be.brackets;for(let o of r){let i=qn(K(o,0));if(e==o)return i==o?Ci(t,o,r.indexOf(o+o+o)>-1):bi(t,o,i,n.before||Be.before);if(e==i&&Wn(t,t.selection.main.from))return ki(t,o,i)}return null}function Wn(t,e){let n=!1;return t.field($n).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Ee(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ge(K(n,0)))}function xi(t,e){let n=t.sliceString(e-2,e);return ge(K(n,0))==n.length?n:n.slice(1)}function bi(t,e,n,r){let o=null,i=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:_.of(s.to+e.length),range:h.range(s.anchor+e.length,s.head+e.length)};let l=Ee(t.doc,s.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:e+n,from:s.head},effects:_.of(s.head+e.length),range:h.cursor(s.head+e.length)}:{range:o=s}});return o?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function ki(t,e,n){let r=null,o=t.selection.ranges.map(i=>i.empty&&Ee(t.doc,i.head)==n?h.cursor(i.head+n.length):r=i);return r?null:t.update({selection:h.create(o,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(({from:i})=>at.of(i))})}function Ci(t,e,n){let r=null,o=t.changeByRange(i=>{if(!i.empty)return{changes:[{insert:e,from:i.from},{insert:e,from:i.to}],effects:_.of(i.to+e.length),range:h.range(i.anchor+e.length,i.head+e.length)};let s=i.head,l=Ee(t.doc,s);if(l==e){if(_n(t,s))return{changes:{insert:e+e,from:s},effects:_.of(s+e.length),range:h.cursor(s+e.length)};if(Wn(t,s)){let a=n&&t.sliceDoc(s,s+e.length*3)==e+e+e;return{range:h.cursor(s+e.length*(a?3:1)),effects:at.of(s)}}}else{if(n&&t.sliceDoc(s-2*e.length,s)==e+e&&_n(t,s-2*e.length))return{changes:{insert:e+e+e+e,from:s},effects:_.of(s+e.length),range:h.cursor(s+e.length)};if(t.charCategorizer(s)(l)!=pe.Word){let a=t.sliceDoc(s-1,s);if(a!=e&&t.charCategorizer(s)(a)!=pe.Word)return{changes:{insert:e+e,from:s},effects:_.of(s+e.length),range:h.cursor(s+e.length)}}}return{range:r=i}});return r?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function _n(t,e){let n=ee(t).resolveInner(e+1);return n.parent&&n.from==e}const zn=v.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function ie(t,e){let n=t.plugin(Un),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const Un=Z.fromClass(class{constructor(t){this.input=t.state.facet(se),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(zn);this.top=new Re(t,!0,e.topContainer),this.bottom=new Re(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(zn);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Re(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Re(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(se);if(n!=this.input){let r=n.filter(a=>a),o=[],i=[],s=[],l=[];for(let a of r){let c=this.specs.indexOf(a),f;c<0?(f=a(t.view),l.push(f)):(f=this.panels[c],f.update&&f.update(t)),o.push(f),(f.top?i:s).push(f)}this.specs=r,this.panels=o,this.top.sync(i),this.bottom.sync(s);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:Ue.scrollMargins.from(t=>({top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}))});class Re{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=Vn(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=Vn(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Vn(t){let e=t.nextSibling;return t.remove(),e}const Si=g.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),se=v.define({enables:[Un,Si]});function y(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];typeof o=="string"?t.setAttribute(r,o):o!=null&&(t[r]=o)}e++}for(;e<arguments.length;e++)Jn(t,arguments[e]);return t}function Jn(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)Jn(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const Kn=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class le{constructor(e,n,r=0,o=e.length,i){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,o),this.bufferStart=r,this.normalize=i?s=>i(Kn(s)):Kn,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return K(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Pt(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ge(e);let o=this.normalize(n);for(let i=0,s=r;;i++){let l=o.charCodeAt(i),a=this.match(l,s);if(a)return this.value=a,this;if(i==o.length-1)break;s==r&&i<n.length&&n.charCodeAt(i)==l&&s++}}}match(e,n){let r=null;for(let o=0;o<this.matches.length;o+=2){let i=this.matches[o],s=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?r={from:this.matches[o+1],to:n+1}:(this.matches[o]++,s=!0)),s||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r}}const jn={from:-1,to:-1,match:/.*/.exec("")},ut="gm"+(/x/.unicode==null?"":"u");class vi{constructor(e,n,r,o=0,i=e.length){if(this.to=i,this.curLine="",this.done=!1,this.value=jn,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Mi(e,n,r,o,i);this.re=new RegExp(n,ut+((r==null?void 0:r.ignoreCase)?"i":"")),this.iter=e.iter();let s=e.lineAt(o);this.curLineStart=s.from,this.matchPos=o,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,o=r+n[0].length;if(this.matchPos=o+(r==o?1:0),r==this.curLine.length&&this.nextLine(),r<o||r>this.value.to)return this.value={from:r,to:o,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ht=new WeakMap;class j{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let o=ht.get(e);if(!o||o.from>=r||o.to<=n){let l=new j(n,e.sliceString(n,r));return ht.set(e,l),l}if(o.from==n&&o.to==r)return o;let{text:i,from:s}=o;return s>n&&(i=e.sliceString(n,s)+i,s=n),o.to<r&&(i+=e.sliceString(o.to,r)),ht.set(e,new j(s,i)),new j(n,i.slice(n-s,r-s))}}class Mi{constructor(e,n,r,o,i){this.text=e,this.to=i,this.done=!1,this.value=jn,this.matchPos=o,this.re=new RegExp(n,ut+((r==null?void 0:r.ignoreCase)?"i":"")),this.flat=j.get(e,o,this.chunkEnd(o+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n&&this.flat.to<this.to&&n.index+n[0].length>this.flat.text.length-10&&(n=null),n){let r=this.flat.from+n.index,o=r+n[0].length;return this.value={from:r,to:o,match:n},this.matchPos=o+(r==o?1:0),this}else{if(this.flat.to==this.to)return this.done=!0,this;this.flat=j.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}}function Ai(t){try{return new RegExp(t,ut),!0}catch{return!1}}function dt(t){let e=y("input",{class:"cm-textfield",name:"line"}),n=y("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:Te.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),r())},onsubmit:o=>{o.preventDefault(),r()}},y("label",t.state.phrase("Go to line"),": ",e)," ",y("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!o)return;let{state:i}=t,s=i.doc.lineAt(i.selection.main.head),[,l,a,c,f]=o,u=c?+c.slice(1):0,m=a?+a:s.number;if(a&&f){let b=m/100;l&&(b=b*(l=="-"?-1:1)+s.number/i.doc.lines),m=Math.round(i.doc.lines*b)}else a&&l&&(m=m*(l=="-"?-1:1)+s.number);let x=i.doc.line(Math.max(1,Math.min(i.doc.lines,m)));t.dispatch({effects:Te.of(!1),selection:h.cursor(x.from+Math.max(0,Math.min(u,x.length))),scrollIntoView:!0}),t.focus()}return{dom:n,pos:-10}}const Te=C.define(),Qn=H.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Te)&&(t=n.value);return t},provide:t=>se.from(t,e=>e?dt:null)}),Li=t=>{let e=ie(t,dt);if(!e){let n=[Te.of(!0)];t.state.field(Qn,!1)==null&&n.push(C.appendConfig.of([Qn,Di])),t.dispatch({effects:n}),e=ie(t,dt)}return e&&e.dom.querySelector("input").focus(),!0},Di=g.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),wi={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},Yn=v.define({combine(t){return X(t,wi,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Bi(t){let e=[Oi,Ti];return t&&e.push(Yn.of(t)),e}const Ei=p.mark({class:"cm-selectionMatch"}),Ri=p.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),Ti=Z.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Yn),{state:n}=t,r=n.selection;if(r.ranges.length>1)return p.none;let o=r.main,i,s=null;if(o.empty){if(!e.highlightWordAroundCursor)return p.none;let a=n.wordAt(o.head);if(!a)return p.none;s=n.charCategorizer(o.head),i=n.sliceDoc(a.from,a.to)}else{let a=o.to-o.from;if(a<e.minSelectionLength||a>200)return p.none;if(i=n.sliceDoc(o.from,o.to).trim(),!i)return p.none}let l=[];for(let a of t.visibleRanges){let c=new le(n.doc,i,a.from,a.to);for(;!c.next().done;){let{from:f,to:u}=c.value;if((!s||(f==0||s(n.sliceDoc(f-1,f))!=pe.Word)&&(u==n.doc.length||s(n.sliceDoc(u,u+1))!=pe.Word))&&(s&&f<=o.from&&u>=o.to?l.push(Ri.range(f,u)):(f>=o.to||u<=o.from)&&l.push(Ei.range(f,u)),l.length>e.maxMatches))return p.none}}return p.set(l)}},{decorations:t=>t.decorations}),Oi=g.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Pi=({state:t,dispatch:e})=>{let{selection:n}=t,r=h.create(n.ranges.map(o=>t.wordAt(o.head)||h.cursor(o.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function Ii(t,e){let{main:n,ranges:r}=t.selection,o=t.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let s=!1,l=new le(t.doc,e,r[r.length-1].to);;)if(l.next(),l.done){if(s)return null;l=new le(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(a=>a.from==l.value.from))continue;if(i){let a=t.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const Ni=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(i=>i.from===i.to))return Pi({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(i=>t.sliceDoc(i.from,i.to)!=r))return!1;let o=Ii(t,r);return o?(e(t.update({selection:t.selection.addRange(h.range(o.from,o.to),!1),scrollIntoView:!0})),!0):!1},Xn=v.define({combine(t){let e=t.some(n=>n.matchCase);return{top:t.some(n=>n.top),matchCase:e===void 0?!0:e}}});class Zn{constructor(e,n,r){this.search=e,this.replace=n,this.caseInsensitive=r}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseInsensitive==e.caseInsensitive&&this.constructor==e.constructor}}class er extends Zn{constructor(e,n,r){super(e,n,r);this.unquoted=e.replace(/\\([nrt\\])/g,(o,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}cursor(e,n=0,r=e.length){return new le(e,this.unquoted,n,r,this.caseInsensitive?o=>o.toLowerCase():void 0)}nextMatch(e,n,r){let o=this.cursor(e,r).nextOverlapping();return o.done&&(o=this.cursor(e,0,n).nextOverlapping()),o.done?null:o.value}prevMatchInRange(e,n,r){for(let o=r;;){let i=Math.max(n,o-1e4-this.unquoted.length),s=this.cursor(e,i,o),l=null;for(;!s.nextOverlapping().done;)l=s.value;if(l)return l;if(i==n)return null;o-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.replace}matchAll(e,n){let r=this.cursor(e),o=[];for(;!r.next().done;){if(o.length>=n)return null;o.push(r.value)}return o}highlight(e,n,r,o){let i=this.cursor(e,Math.max(0,n-this.unquoted.length),Math.min(r+this.unquoted.length,e.length));for(;!i.next().done;)o(i.value.from,i.value.to)}get valid(){return!!this.search}}class tr extends Zn{constructor(e,n,r){super(e,n,r);this.valid=!!e&&Ai(e)}cursor(e,n=0,r=e.length){return new vi(e,this.search,this.caseInsensitive?{ignoreCase:!0}:void 0,n,r)}nextMatch(e,n,r){let o=this.cursor(e,r).next();return o.done&&(o=this.cursor(e,0,n).next()),o.done?null:o.value}prevMatchInRange(e,n,r){for(let o=1;;o++){let i=Math.max(n,r-o*1e4),s=this.cursor(e,i,r),l=null;for(;!s.next().done;)l=s.value;if(l&&(i==n||l.from>i+10))return l;if(i==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.replace.replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=this.cursor(e),o=[];for(;!r.next().done;){if(o.length>=n)return null;o.push(r.value)}return o}highlight(e,n,r,o){let i=this.cursor(e,Math.max(0,n-250),Math.min(r+250,e.length));for(;!i.next().done;)o(i.value.from,i.value.to)}}const mt=C.define(),gt=C.define(),$=H.define({create(t){return new pt(rr(t),Ie)},update(t,e){for(let n of e.effects)n.is(mt)?t=new pt(n.value,t.panel):n.is(gt)&&(t=new pt(t.query,n.value?Ie:null));return t},provide:t=>se.from(t,e=>e.panel)});class pt{constructor(e,n){this.query=e,this.panel=n}}const Gi=p.mark({class:"cm-searchMatch"}),Fi=p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),$i=Z.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field($))}update(t){let e=t.state.field($);(e!=t.startState.field($)||t.docChanged||t.selectionSet)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.valid)return p.none;let{view:n}=this,r=new Bt;for(let o=0,i=n.visibleRanges,s=i.length;o<s;o++){let{from:l,to:a}=i[o];for(;o<s-1&&a>i[o+1].from-2*250;)a=i[++o].to;t.highlight(n.state.doc,l,a,(c,f)=>{let u=n.state.selection.ranges.some(m=>m.from==c&&m.to==f);r.add(c,f,u?Fi:Gi)})}return r.finish()}},{decorations:t=>t.decorations});function ae(t){return e=>{let n=e.state.field($,!1);return n&&n.query.valid?t(e,n):or(e)}}const Oe=ae((t,{query:e})=>{let{from:n,to:r}=t.state.selection.main,o=e.nextMatch(t.state.doc,n,r);return!o||o.from==n&&o.to==r?!1:(t.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:yt(t,o)}),!0)}),Pe=ae((t,{query:e})=>{let{state:n}=t,{from:r,to:o}=n.selection.main,i=e.prevMatch(n.doc,r,o);return i?(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:yt(t,i)}),!0):!1}),qi=ae((t,{query:e})=>{let n=e.matchAll(t.state.doc,1e3);return!n||!n.length?!1:(t.dispatch({selection:h.create(n.map(r=>h.range(r.from,r.to)))}),!0)}),Hi=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,i=[],s=0;for(let l=new le(t.doc,t.sliceDoc(r,o));!l.next().done;){if(i.length>1e3)return!1;l.value.from==r&&(s=i.length),i.push(h.range(l.value.from,l.value.to))}return e(t.update({selection:h.create(i,s)})),!0},nr=ae((t,{query:e})=>{let{state:n}=t,{from:r,to:o}=n.selection.main;if(n.readOnly)return!1;let i=e.nextMatch(n.doc,r,r);if(!i)return!1;let s=[],l,a;if(i.from==r&&i.to==o&&(a=n.toText(e.getReplacement(i)),s.push({from:i.from,to:i.to,insert:a}),i=e.nextMatch(n.doc,i.from,i.to)),i){let c=s.length==0||s[0].from>=i.to?0:i.to-i.from-a.length;l={anchor:i.from-c,head:i.to-c}}return t.dispatch({changes:s,selection:l,scrollIntoView:!!l,effects:i?yt(t,i):void 0}),!0}),Wi=ae((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state.doc,1e9).map(r=>{let{from:o,to:i}=r;return{from:o,to:i,insert:e.getReplacement(r)}});return n.length?(t.dispatch({changes:n}),!0):!1});function Ie(t){let{query:e}=t.state.field($);return{dom:zi({view:t,query:e,updateQuery(n){e.eq(n)||(e=n,t.dispatch({effects:mt.of(e)}))}}),mount(){this.dom.querySelector("[name=search]").select()},pos:80,top:t.state.facet(Xn).top}}function rr(t,e){var n;let r=t.selection.main,o=r.empty||r.to>r.from+100?"":t.sliceDoc(r.from,r.to),i=(n=e==null?void 0:e.caseInsensitive)!==null&&n!==void 0?n:!t.facet(Xn).matchCase;return e&&!o?e:new er(o.replace(/\n/g,"\\n"),"",i)}const or=t=>{let e=t.state.field($,!1);if(e&&e.panel){let n=ie(t,Ie);if(!n)return!1;let r=n.dom.querySelector("[name=search]");r.focus(),r.select()}else t.dispatch({effects:[gt.of(!0),e?mt.of(rr(t.state,e.query)):C.appendConfig.of(Vi)]});return!0},ir=t=>{let e=t.state.field($,!1);if(!e||!e.panel)return!1;let n=ie(t,Ie);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:gt.of(!1)}),!0},_i=[{key:"Mod-f",run:or,scope:"editor search-panel"},{key:"F3",run:Oe,shift:Pe,scope:"editor search-panel"},{key:"Mod-g",run:Oe,shift:Pe,scope:"editor search-panel"},{key:"Escape",run:ir,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Hi},{key:"Alt-g",run:Li},{key:"Mod-d",run:Ni,preventDefault:!0}];function zi(t){function e(f){return t.view.state.phrase(f)}let n=y("input",{value:t.query.search,placeholder:e("Find"),"aria-label":e("Find"),class:"cm-textfield",name:"search",onchange:s,onkeyup:s}),r=y("input",{value:t.query.replace,placeholder:e("Replace"),"aria-label":e("Replace"),class:"cm-textfield",name:"replace",onchange:s,onkeyup:s}),o=y("input",{type:"checkbox",name:"case",checked:!t.query.caseInsensitive,onchange:s}),i=y("input",{type:"checkbox",name:"re",checked:t.query instanceof tr,onchange:s});function s(){t.updateQuery(new(i.checked?tr:er)(n.value,r.value,!o.checked))}function l(f){Rr(t.view,f,"search-panel")?f.preventDefault():f.keyCode==13&&f.target==n?(f.preventDefault(),(f.shiftKey?Pe:Oe)(t.view)):f.keyCode==13&&f.target==r&&(f.preventDefault(),nr(t.view))}function a(f,u,m){return y("button",{class:"cm-button",name:f,onclick:u,type:"button"},m)}return y("div",{onkeydown:l,class:"cm-search"},[n,a("next",()=>Oe(t.view),[e("next")]),a("prev",()=>Pe(t.view),[e("previous")]),a("select",()=>qi(t.view),[e("all")]),y("label",null,[o,e("match case")]),y("label",null,[i,e("regexp")]),y("br"),r,a("replace",()=>nr(t.view),[e("replace")]),a("replaceAll",()=>Wi(t.view),[e("replace all")]),y("button",{name:"close",onclick:()=>ir(t.view),"aria-label":e("close"),type:"button"},["\xD7"])])}const Ne=30,Ge=/[\s\.,:;?!]/;function yt(t,{from:e,to:n}){let r=t.state.doc.lineAt(e).from,o=t.state.doc.lineAt(n).to,i=Math.max(r,e-Ne),s=Math.min(o,n+Ne),l=t.state.sliceDoc(i,s);if(i!=r){for(let a=0;a<Ne;a++)if(!Ge.test(l[a+1])&&Ge.test(l[a])){l=l.slice(a);break}}if(s!=o){for(let a=l.length-1;a>l.length-Ne;a--)if(!Ge.test(l[a-1])&&Ge.test(l[a])){l=l.slice(0,a);break}}return g.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${t.state.doc.lineAt(e).number}`)}const Ui=g.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Vi=[$,Er.fallback($i),Ui],Ji=t=>{let e=xt(t.state);return e.line?Ki(t):e.block?lr(t):!1};function sr(t,e){return({state:n,dispatch:r})=>{let o=t(e,n.selection.ranges,n);return o?(r(n.update(o)),!0):!1}}const Ki=sr(Xi,0),lr=sr(Yi,0),ji=[{key:"Mod-/",run:Ji},{key:"Alt-A",run:lr}];function xt(t,e=t.selection.main.head){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const ce=50;function Qi(t,{open:e,close:n},r,o){let i=t.sliceDoc(r-ce,r),s=t.sliceDoc(o,o+ce),l=/\s*$/.exec(i)[0].length,a=/^\s*/.exec(s)[0].length,c=i.length-l;if(i.slice(c-e.length,c)==e&&s.slice(a,a+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:o+a,margin:a&&1}};let f,u;o-r<=2*ce?f=u=t.sliceDoc(r,o):(f=t.sliceDoc(r,r+ce),u=t.sliceDoc(o-ce,o));let m=/^\s*/.exec(f)[0].length,x=/\s*$/.exec(u)[0].length,b=u.length-x-n.length;return f.slice(m,m+e.length)==e&&u.slice(b,b+n.length)==n?{open:{pos:r+m+e.length,margin:/\s/.test(f.charAt(m+e.length))?1:0},close:{pos:o-x-n.length,margin:/\s/.test(u.charAt(b-1))?1:0}}:null}function Yi(t,e,n){let r=e.map(i=>xt(n,i.from).block);if(!r.every(i=>i))return null;let o=e.map((i,s)=>Qi(n,r[s],i.from,i.to));if(t!=2&&!o.every(i=>i)){let i=0;return n.changeByRange(s=>{let{open:l,close:a}=r[i++];if(o[i])return{range:s};let c=l.length+1;return{changes:[{from:s.from,insert:l+" "},{from:s.to,insert:" "+a}],range:h.range(s.anchor+c,s.head+c)}})}else if(t!=1&&o.some(i=>i)){let i=[];for(let s=0,l;s<o.length;s++)if(l=o[s]){let a=r[s],{open:c,close:f}=l;i.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:f.pos-f.margin,to:f.pos+a.close.length})}return{changes:i}}return null}function Xi(t,e,n){let r=[],o=-1;for(let{from:i,to:s}of e){let l=r.length,a=1e9;for(let c=i;c<=s;){let f=n.doc.lineAt(c);if(f.from>o&&(i==s||s>f.from)){o=f.from;let u=xt(n,c).line;if(!u)continue;let m=/^\s*/.exec(f.text)[0].length,x=m==f.length,b=f.text.slice(m,m+u.length)==u?m:-1;m<f.text.length&&m<a&&(a=m),r.push({line:f,comment:b,token:u,indent:m,empty:x,single:!1})}c=f.to+1}if(a<1e9)for(let c=l;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=a);r.length==l+1&&(r[l].single=!0)}if(t!=2&&r.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:l,token:a,indent:c,empty:f,single:u}of r)(u||!f)&&i.push({from:l.from+c,insert:a+" "});let s=n.changes(i);return{changes:s,selection:n.selection.map(s,1)}}else if(t!=1&&r.some(i=>i.comment>=0)){let i=[];for(let{line:s,comment:l,token:a}of r)if(l>=0){let c=s.from+l,f=c+a.length;s.text[f-s.from]==" "&&f++,i.push({from:c,to:f})}return{changes:i}}return null}const bt=2e3;function Zi(t,e,n){let r=Math.min(e.line,n.line),o=Math.max(e.line,n.line),i=[];if(e.off>bt||n.off>bt||e.col<0||n.col<0){let s=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let a=r;a<=o;a++){let c=t.doc.line(a);c.length<=l&&i.push(h.range(c.from+s,c.to+l))}}else{let s=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let a=r;a<=o;a++){let c=t.doc.line(a),f=It(c.text,s,t.tabSize,!0);if(f>-1){let u=It(c.text,l,t.tabSize);i.push(h.range(c.from+f,c.from+u))}}}return i}function es(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function ar(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),o=n-r.from,i=o>bt?-1:o==r.length?es(t,e.clientX):Ve(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function ts(t,e){let n=ar(t,e),r=t.state.selection;return n?{update(o){if(o.docChanged){let i=o.changes.mapPos(o.startState.doc.line(n.line).from),s=o.state.doc.lineAt(i);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(o.changes)}},get(o,i,s){let l=ar(t,o);if(!l)return r;let a=Zi(t.state,n,l);return a.length?s?h.create(a.concat(r.ranges)):h.create(a):r}}:null}function ns(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return g.mouseSelectionStyle.of((n,r)=>e(r)?ts(n,r):null)}class rs{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class q{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let o=p.set(e.map(i=>i.from==i.to||i.from==i.to-1&&r.doc.lineAt(i.from).to==i.from?p.widget({widget:new us(i),diagnostic:i}).range(i.from):p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+i.severity},diagnostic:i}).range(i.from,i.to)),!0);return new q(o,n,Q(o))}}function Q(t,e=null,n=0){let r=null;return t.between(n,1e9,(o,i,{spec:s})=>{if(!(e&&s.diagnostic!=e))return r=new rs(o,i,s.diagnostic),!1}),r}function os(t,e,n){return t.field(A,!1)?e:e.concat(C.appendConfig.of([A.init(n),g.decorations.compute([A],r=>{let{selected:o,panel:i}=r.field(A);return!o||!i||o.from==o.to?p.none:p.set([ss.range(o.from,o.to)])}),Tr(ls),hs]))}const is=C.define(),kt=C.define(),cr=C.define(),A=H.define({create(){return new q(p.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=Q(n,t.selected.diagnostic,o)||Q(n,null,o)}t=new q(n,t.panel,r)}for(let n of e.effects)n.is(is)?t=q.init(n.value,t.panel,e.state):n.is(kt)?t=new q(t.diagnostics,n.value?fe.open:null,t.selected):n.is(cr)&&(t=new q(t.diagnostics,t.panel,n.value));return t},provide:t=>[se.from(t,e=>e.panel),g.decorations.from(t,e=>e.diagnostics)]}),ss=p.mark({class:"cm-lintRange cm-lintRange-active"});function ls(t,e,n){let{diagnostics:r}=t.state.field(A),o=[],i=2e8,s=0;return r.between(e-(n<0?1:0),e+(n>0?1:0),(l,a,{spec:c})=>{e>=l&&e<=a&&(l==a||(e>l||n>0)&&(e<a||n<0))&&(o.push(c.diagnostic),i=Math.min(l,i),s=Math.max(a,s))}),o.length?{pos:i,end:s,above:t.state.doc.lineAt(i).to<s,create(){return{dom:y("ul",{class:"cm-tooltip-lint"},o.map(l=>hr(t,l,!1)))}}}:null}const as=t=>{let e=t.state.field(A,!1);(!e||!e.panel)&&t.dispatch({effects:os(t.state,[kt.of(!0)],()=>q.init([],fe.open,t.state))});let n=ie(t,fe.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},fr=t=>{let e=t.state.field(A,!1);return!e||!e.panel?!1:(t.dispatch({effects:kt.of(!1)}),!0)},cs=t=>{let e=t.state.field(A,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},fs=[{key:"Mod-Shift-m",run:as},{key:"F8",run:cs}];function ur(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let o=n[r];if(/[a-zA-Z]/.test(o)&&!e.some(i=>i.toLowerCase()==o.toLowerCase())){e.push(o);continue e}}e.push("")}return e}function hr(t,e,n){var r;let o=n?ur(e.actions):[];return y("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},y("span",{class:"cm-diagnosticText"},e.message),(r=e.actions)===null||r===void 0?void 0:r.map((i,s)=>{let l=u=>{u.preventDefault();let m=Q(t.state.field(A).diagnostics,e);m&&i.apply(t,m.from,m.to)},{name:a}=i,c=o[s]?a.indexOf(o[s]):-1,f=c<0?a:[a.slice(0,c),y("u",a.slice(c,c+1)),a.slice(c+1)];return y("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${a}${c<0?"":` (access key "${o[s]})"`}.`},f)}),e.source&&y("div",{class:"cm-diagnosticSource"},e.source))}class us extends Et{constructor(e){super();this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return y("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class dr{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=hr(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class fe{constructor(e){this.view=e,this.items=[];let n=o=>{if(o.keyCode==27)fr(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:i}=this.items[this.selectedIndex],s=ur(i.actions);for(let l=0;l<s.length;l++)if(s[l].toUpperCase().charCodeAt(0)==o.keyCode){let a=Q(this.view.state.field(A).diagnostics,i);a&&i.actions[l].apply(e,a.from,a.to)}}else return;o.preventDefault()},r=o=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(o.target)&&this.moveSelection(i)};this.list=y("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=y("div",{class:"cm-panel-lint"},this.list,y("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>fr(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(A).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(A),r=0,o=!1,i=null;for(e.between(0,this.view.state.doc.length,(s,l,{spec:a})=>{let c=-1,f;for(let u=r;u<this.items.length;u++)if(this.items[u].diagnostic==a.diagnostic){c=u;break}c<0?(f=new dr(this.view,a.diagnostic),this.items.splice(r,0,f),o=!0):(f=this.items[c],c>r&&(this.items.splice(r,c-r),o=!0)),n&&f.diagnostic==n.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),i=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new dr(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{s.top<l.top?this.list.scrollTop-=l.top-s.top:s.bottom>l.bottom&&(this.list.scrollTop+=s.bottom-l.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(A),r=Q(n.diagnostics,this.items[e].diagnostic);!r||this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:cr.of(r)})}static open(e){return new fe(e)}}function Ct(t){if(typeof btoa!="function")return"none";let e=`<svg xmlns="http://www.w3.org/2000/svg" width="6" height="3">
    <path d="m0 3 l2 -2 l1 0 l2 2 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>
  </svg>`;return`url('data:image/svg+xml;base64,${btoa(e)}')`}const hs=g.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x"},".cm-lintRange-error":{backgroundImage:Ct("#d11")},".cm-lintRange-warning":{backgroundImage:Ct("orange")},".cm-lintRange-info":{backgroundImage:Ct("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),ds=[lo(),fo(),Or(),zr(),Co(),Pr(),Nt.allowMultipleSelections.of(!0),Ir(),Nr.fallback,wo(),di(),Gr(),ns(),Fr(),Bi(),Gt.of([...pi,...ui,..._i,...Xr,...yo,...ji,...$r,...fs])],ms="#e5c07b",mr="#e06c75",gs="#56b6c2",ps="#ffffff",Fe="#abb2bf",St="#7d8799",ys="#61afef",xs="#98c379",gr="#d19a66",bs="#c678dd",pr="#21252b",vt="#2c313a",yr="#282c34",ks="#3E4451",xr="#528bff",Cs=g.theme({"&":{color:Fe,backgroundColor:yr},".cm-content":{caretColor:xr},"&.cm-focused .cm-cursor":{borderLeftColor:xr},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, ::selection":{backgroundColor:ks},".cm-panels":{backgroundColor:pr,color:Fe},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:vt},".cm-selectionMatch":{backgroundColor:"#aafe661a"},".cm-matchingBracket, .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:yr,color:St,border:"none"},".cm-activeLineGutter":{backgroundColor:vt},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid #181a1f",backgroundColor:pr},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:vt,color:Fe}}},{dark:!0});d.keyword,d.name,d.deleted,d.character,d.propertyName,d.macroName,d.variableName,d.labelName,d.color,d.name,d.name,d.name,d.separator,d.typeName,d.className,d.number,d.changed,d.annotation,d.modifier,d.self,d.namespace,d.operator,d.operatorKeyword,d.url,d.escape,d.regexp,d.link,d.string,d.meta,d.comment,d.strong,d.emphasis,d.strikethrough,d.link,d.heading,d.atom,d.bool,d.variableName,d.processingInstruction,d.string,d.inserted,d.invalid;var Ss=g.theme({"&":{backgroundColor:"#fff"}},{dark:!1});function vs(t){var{value:e,selection:n,onChange:r,onUpdate:o,extensions:i=[],autoFocus:s,theme:l="light",height:a="",minHeight:c="",maxHeight:f="",placeholder:u="",width:m="",minWidth:x="",maxWidth:b="",editable:w=!0,indentWithTab:z=!0,basicSetup:F=!0,root:$e}=t,[U,qe]=L.exports.useState(t.container),[k,V]=L.exports.useState(),[Y,J]=L.exports.useState(),He=g.theme({"&":{height:a,minHeight:c,maxHeight:f,width:m,minWidth:x,maxWidth:b}}),We=g.updateListener.of(P=>{if(P.docChanged&&typeof r=="function"){var _e=P.state.doc,vr=_e.toString();r(vr,P)}}),B=[We,He];return z&&B.unshift(Gt.of([hi])),F&&B.unshift(ds),u&&B.unshift(Hr(u)),l==="light"?B.push(Ss):B.push(Cs),w===!1&&B.push(g.editable.of(!1)),o&&typeof o=="function"&&B.push(g.updateListener.of(o)),B=B.concat(i),L.exports.useEffect(()=>{if(U&&!Y){var P=Nt.create({doc:e,selection:n,extensions:B});if(J(P),!k){var _e=new g({state:P,parent:U,root:$e});V(_e)}}},[U,Y]),L.exports.useEffect(()=>()=>{k&&k.destroy()},[k]),L.exports.useEffect(()=>{if(k){var P=k.state.doc.toString();e!==P&&k.dispatch({changes:{from:0,to:P.length,insert:e||""}})}},[e,k]),L.exports.useEffect(()=>{k&&k.dispatch({effects:C.reconfigure.of(B)})},[l,i,u,a,c,f,m,x,b,w,z,F]),L.exports.useEffect(()=>{s&&k&&k.focus()},[s,k]),{state:Y,setState:J,view:k,setView:V,container:U,setContainer:qe}}var br={exports:{}},ue={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=L.exports,kr=60103;ue.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Cr=Symbol.for;kr=Cr("react.element"),ue.Fragment=Cr("react.fragment")}var As=Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ls=Object.prototype.hasOwnProperty,Ds={key:!0,ref:!0,__self:!0,__source:!0};function Sr(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Ls.call(e,r)&&!Ds.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:kr,type:t,key:i,ref:s,props:o,_owner:As.current}}ue.jsx=Sr;ue.jsxs=Sr;br.exports=ue;var ws=["className","value","selection","extensions","onChange","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","root"],Bs=Mr.forwardRef((t,e)=>{var{className:n,value:r,selection:o,extensions:i=[],onChange:s,onUpdate:l,autoFocus:a,theme:c="light",height:f,minHeight:u,maxHeight:m,width:x,minWidth:b,maxWidth:w,basicSetup:z,placeholder:F,indentWithTab:$e,editable:U,root:qe}=t,k=Ar(t,ws),V=L.exports.useRef(null),{state:Y,view:J,container:He,setContainer:We}=vs({container:V.current,root:qe,value:r,autoFocus:a,theme:c,height:f,minHeight:u,maxHeight:m,width:x,minWidth:b,maxWidth:w,basicSetup:z,placeholder:F,indentWithTab:$e,editable:U,selection:o,onChange:s,onUpdate:l,extensions:i});return L.exports.useImperativeHandle(e,()=>({editor:He,state:Y,view:J})),L.exports.useEffect(()=>(We(V.current),()=>{J&&J.destroy()}),[]),br.exports.jsx("div",Lr({ref:V,className:"cm-theme-"+c+(n?" "+n:"")},k))});Bs.displayName="CodeMirror";export{Bs as R};
