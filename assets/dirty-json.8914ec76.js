var e={},t={},r={},u={exports:{}};!function(e){function t(e){"function"!=typeof e&&(e=t.defunct);var r=[],u=[],n=0;function p(){for(var e=[],t=0,r=this.state,n=this.index,p=this.input,l=0,a=u.length;l<a;l++){var i=u[l],o=i.start,s=o.length;if(!s||o.indexOf(r)>=0||r%2&&1===s&&!o[0]){var h=i.pattern;h.lastIndex=n;var f=h.exec(p);if(f&&f.index===n){var v=e.push({result:f,action:i.action,length:f[0].length});for(i.global&&(t=v);--v>t;){var c=v-1;if(e[v].length>e[c].length){var y=e[v];e[v]=e[c],e[c]=y}}}}}return e}this.state=0,this.index=0,this.input="",this.addRule=function(e,t,r){var n=e.global;if(!n){var p="g";e.multiline&&(p+="m"),e.ignoreCase&&(p+="i"),e=new RegExp(e.source,p)}return"[object Array]"!==Object.prototype.toString.call(r)&&(r=[0]),u.push({pattern:e,global:n,action:t,start:r}),this},this.setInput=function(e){return n=0,this.state=0,this.index=0,r.length=0,this.input=e,this},this.lex=function(){if(r.length)return r.shift();for(this.reject=!0;this.index<=this.input.length;){for(var t=p.call(this).splice(n),u=this.index;t.length&&this.reject;){var l=t.shift(),a=l.result,i=l.length;this.index+=i,this.reject=!1,n++;var o=l.action.apply(this,a);if(this.reject)this.index=a.index;else if(void 0!==o)switch(Object.prototype.toString.call(o)){case"[object Array]":r=o.slice(1),o=o[0];default:return i&&(n=0),o}}var s=this.input;if(u<s.length){if(this.reject){if(n=0,void 0!==(o=e.call(this,s.charAt(this.index++))))return"[object Array]"===Object.prototype.toString.call(o)?(r=o.slice(1),o[0]):o}else this.index!==u&&(n=0),this.reject=!0}else{if(!t.length)break;this.reject=!0}}}}u.exports=t,t.defunct=function(e){throw new Error("Unexpected character at index "+(this.index-1)+": "+e)}}();var n,p,l,a,i={exports:{}};
/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */String.fromCodePoint||(n=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(u){}return r}(),p=String.fromCharCode,l=Math.floor,a=function(e){var t,r,u=16384,n=[],a=-1,i=arguments.length;if(!i)return"";for(var o="";++a<i;){var s=Number(arguments[a]);if(!isFinite(s)||s<0||s>1114111||l(s)!=s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(t=55296+((s-=65536)>>10),r=s%1024+56320,n.push(t,r)),(a+1==i||n.length>u)&&(o+=p.apply(null,n),n.length=0)}return o},n?n(String,"fromCodePoint",{value:a,configurable:!0,writable:!0}):String.fromCodePoint=a),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=/\\(u\{([0-9A-Fa-f]+)\}|u([0-9A-Fa-f]{4})|x([0-9A-Fa-f]{2})|([1-7][0-7]{0,2}|[0-7]{2,3})|(['"tbrnfv0\\]))|\\U([0-9A-Fa-f]{8})/g,u={0:"\0",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v","'":"'",'"':'"',"\\":"\\"},n=function(e){return String.fromCodePoint(parseInt(e,16))};t.default=function(e){return e.replace(r,(function(e,t,r,p,l,a,i,o){return void 0!==r?n(r):void 0!==p?n(p):void 0!==l?n(l):void 0!==a?(s=a,String.fromCodePoint(parseInt(s,8))):void 0!==o?n(o):u[i];var s}))},e.exports=t.default}(i,i.exports);!function(e){var t,r,u,n=String.fromCharCode;function p(e){for(var t,r,u=[],n=0,p=e.length;n<p;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<p?56320==(64512&(r=e.charCodeAt(n++)))?u.push(((1023&t)<<10)+(1023&r)+65536):(u.push(t),n--):u.push(t);return u}function l(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(e,t){return n(e>>t&63|128)}function i(e){if(0==(4294967168&e))return n(e);var t="";return 0==(4294965248&e)?t=n(e>>6&31|192):0==(4294901760&e)?(l(e),t=n(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=n(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=n(63&e|128)}function o(){if(u>=r)throw Error("Invalid byte index");var e=255&t[u];if(u++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function s(){var e,n;if(u>r)throw Error("Invalid byte index");if(u==r)return!1;if(e=255&t[u],u++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|o())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|o()<<6|o())>=2048)return l(n),n;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|o()<<12|o()<<6|o())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=p(e),r=t.length,u=-1,n="";++u<r;)n+=i(t[u]);return n},e.decode=function(e){t=p(e),r=t.length,u=0;for(var l,a=[];!1!==(l=s());)a.push(l);return function(e){for(var t,r=e.length,u=-1,p="";++u<r;)(t=e[u])>65535&&(p+=n((t-=65536)>>>10&1023|55296),t=56320|1023&t),p+=n(t);return p}(a)}}({});const o=u.exports,s=i.exports,h=[[/\s*:\s*/,-1],[/\s*,\s*/,-2],[/\s*{\s*/,-3],[/\s*}\s*/,13],[/\s*\[\s*/,-4],[/\s*\]\s*/,12],[/\s*\.\s*/,-5]];function f(e){return e=e.replace(/\\\//,"/"),s(e)}function v(e,t){let r=function(e){let t=new o,r=0,u=0;return t.addRule(/"((?:\\.|[^"])*?)($|")/,((e,t)=>(r+=e.length,{type:11,value:f(t),row:u,col:r,single:!1}))),t.addRule(/'((?:\\.|[^'])*?)($|'|(",?[ \t]*\n))/,((e,t)=>(r+=e.length,{type:11,value:f(t),row:u,col:r,single:!0}))),t.addRule(/[\-0-9]*\.[0-9]*([eE][\+\-]?)?[0-9]*(?:\s*)/,(e=>(r+=e.length,{type:6,value:parseFloat(e),row:u,col:r}))),t.addRule(/\-?[0-9]+([eE][\+\-]?)[0-9]*(?:\s*)/,(e=>(r+=e.length,{type:6,value:parseFloat(e),row:u,col:r}))),t.addRule(/\-?[0-9]+(?:\s*)/,(e=>(r+=e.length,{type:7,value:parseInt(e),row:u,col:r}))),h.forEach((e=>{t.addRule(e[0],(t=>(r+=t.length,{type:e[1],value:t,row:u,col:r})))})),t.addRule(/\s/,(e=>{"\n"==e?(r=0,u++):r+=e.length})),t.addRule(/\S[ \t]*/,(e=>(r+=e.length,{type:14,value:e,row:u,col:r}))),t.setInput(e),t}(e),u="";for(;u=r.lex();)t(u)}r.lexString=v,r.getAllTokens=function(e){let t=[];return v(e,(function(e){t.push(e)})),t};let c=r;function y(e){null==e.peek&&Object.defineProperty(e,"peek",{enumerable:!1,value:function(){return this[this.length-1]}}),null==e.last&&Object.defineProperty(e,"last",{enumerable:!1,value:function(e){return this[this.length-(1+e)]}})}function d(e,t){return e&&e.hasOwnProperty("type")&&e.type==t}function k(e){let t=e.pop();switch(t.type){case 8:if("true"==t.value.trim())return e.push({type:3,value:"true"}),!0;if("false"==t.value.trim())return e.push({type:3,value:"false"}),!0;if("null"==t.value.trim())return e.push({type:15,value:null}),!0;break;case 14:return d(e.peek(),8)?(e.peek().value+=t.value,!0):(e.push({type:8,value:t.value}),!0);case 7:return d(t,7)&&d(e.peek(),8)?(e.peek().value+=t.value,!0):(t.type=15,e.push(t),!0);case 11:return t.type=15,t.value=t.value,e.push(t),!0;case 3:return t.type=15,"true"==t.value?t.value=!0:t.value=!1,e.push(t),!0;case 6:return t.type=15,e.push(t),!0;case 15:if(d(e.peek(),-2))return t.type=5,e.pop(),e.push(t),!0;if(d(e.peek(),-1))return t.type=4,e.pop(),e.push(t),!0;if(d(e.peek(),8)&&d(e.last(1),15)){let r=e.pop();return e.peek().value+='"'+r.value+'"',e.peek().value+=t.value,!0}if(d(e.peek(),8)&&d(e.last(1),2)){let r=e.pop(),u=e.peek().value.pop();return u+='"'+r.value+'"',u+=t.value,e.peek().value.push(u),!0}if(d(e.peek(),8)&&d(e.last(1),1)){let r=e.pop(),u=e.peek().value.pop();const n=t.single?"'":'"';return u.value+=n+r.value+n,u.value+=t.value,e.peek().value.push(u),!0}if(d(e.peek(),8)){let r=e.pop().value;return t.value=r+t.value,e.push(t),!0}break;case 9:if(d(t,9)&&d(e.peek(),-2))return t.type=5,e.pop(),e.push(t),!0;if(d(e.peek(),-1))return t.type=4,e.pop(),e.push(t),!0;break;case 10:if(d(e.peek(),-2)){let r={type:5,value:t};return e.pop(),e.push(r),!0}if(d(e.peek(),-1)){let r={type:4,value:t};return e.pop(),e.push(r),!0}if(d(e.peek(),8)){let r=e.pop();return e.push({type:0,key:r.value.trim(),value:t}),!0}break;case 5:return d(e.peek(),2)?(e.peek().value.push(t.value),!0):(e.push({type:2,value:[t.value]}),!0);case 2:if(d(e.peek(),15))return t.value.unshift(e.peek().value),e.pop(),e.push(t),!0;if(d(e.peek(),9))return t.value.unshift(e.peek().value),e.pop(),e.push(t),!0;if(d(e.peek(),10))return t.value.unshift(e.peek()),e.pop(),e.push(t),!0;if(d(e.peek(),8)&&(e.last(1),-2)){let r=e.pop();for(e.push({type:15,value:r.value}),r.value;k(e););return e.push(t),!0}if(d(e.peek(),2))return e.peek().value.push(t.value[0]),!0;break;case 4:if(d(e.peek(),8)||d(e.peek(),15)||d(e.peek(),2)){let r=e.pop();return e.push({type:0,key:r.value,value:t.value}),!0}throw new Error("Got a :value that can't be handled at line "+t.row+":"+t.col);case 0:return d(e.last(0),-2)&&d(e.last(1),1)?(e.last(1).value.push(t),e.pop(),!0):(e.push({type:1,value:[t]}),!0);case 1:if(d(e.peek(),1))return t.value.forEach((function(t){e.peek().value.push(t)})),!0;break;case 12:if(d(e.peek(),2)&&d(e.last(1),-4)){let t=e.pop();return e.pop(),e.push({type:9,value:t.value}),!0}if(d(e.peek(),9)&&d(e.last(1),-4)){let t=e.pop();return e.pop(),e.push({type:9,value:[t.value]}),!0}if(d(e.peek(),-4))return e.pop(),e.push({type:9,value:[]}),!0;if(d(e.peek(),15)&&d(e.last(1),-4)){let t=e.pop().value;return e.pop(),e.push({type:9,value:[t]}),!0}if(d(e.peek(),10)&&d(e.last(1),-4)){let t=e.pop();return e.pop(),e.push({type:9,value:[t]}),!0}if(d(e.peek(),8)&&d(e.last(1),-2)){let t=e.pop();for(e.push({type:15,value:t.value}),t.value;k(e););return e.push({type:12}),!0}if(d(e.peek(),-2)&&(d(e.last(1),8)||d(e.last(1),10)||d(e.last(1),15))){for(e.pop(),e.push({type:12,value:"]"}),JSON.stringify(e);k(e););return!0}if(d(e.peek(),8)&&d(e.last(1),-4)){let t=e.pop();return e.pop(),e.push({type:9,value:[t.value]}),!0}if(d(e.peek(),-2)&&d(e.last(1),2)){for(e.pop(),e.push({type:12}),JSON.stringify(e);k(e););return!0}break;case 13:if(d(e.peek(),1)&&d(e.last(1),-3)){let t=e.pop();return e.pop(),e.push({type:10,value:t.value}),!0}if(d(e.peek(),-3))return e.pop(),e.push({type:10,value:null}),!0;if(d(e.peek(),8)&&d(e.last(1),-1)){let t=e.pop();for(e.push({type:15,value:t.value}),t.value;k(e););return e.push({type:13}),!0}if(d(e.peek(),-1)){for(e.push({type:15,value:null});k(e););return e.push({type:13}),!0}if(d(e.peek(),-2))return e.pop(),e.push({type:13}),!0;throw new Error("Found } that I can't handle at line "+t.row+":"+t.col);case-2:if(d(e.peek(),-2))return!0;if(d(e.peek(),8)){const r=e.pop();for(e.push({type:15,value:r.value});k(e););return e.push(t),!0}if(d(e.peek(),-1)){for(e.push({type:15,value:null});k(e););return e.push(t),!0}}return e.push(t),!1}function g(e,t){if(-1!=["boolean","number","string"].indexOf(typeof e))return e;if(null===e)return null;if(Array.isArray(e)){let t=[];for(;e.length>0;)t.unshift(g(e.pop()));return t}if(d(e,10)){let r={};return null===e.value?{}:(e.value.forEach((function(e){const u=e.key,n=g(e.value);r[u]=t&&u in r?{value:r[u],next:n}:n})),r)}return d(e,9)?g(e.value):e.value}t.parse=function(e,t){let r=[],u=[];y(r),y(u);c.lexString(e,(function(e){u.push(e)})),-4==u[0].type&&12!=u.last(0).type&&u.push({type:12,value:"]",row:-1,col:-1});-3==u[0].type&&13!=u.last(0).type&&u.push({type:13,value:"}",row:-1,col:-1});for(let n=0;n<u.length;n++)for(u[n].type,r.push(u[n]);k(r););1==r.length&&1==r[0].type&&(r=[{type:10,value:r[0].value}]);return g(r[0],t)};let b=t;e.parse=function(e,t){let r=!0,u=!1;t&&("fallback"in t&&!1===t[r]&&(r=!1),u="duplicateKeys"in t&&!0===t.duplicateKeys);try{return b.parse(e,u)}catch(n){if(!1===r)throw n;try{let t=JSON.parse(e);return console.warn("dirty-json got valid JSON that failed with the custom parser. We're returning the valid JSON, but please file a bug report here: https://github.com/RyanMarcus/dirty-json/issues  -- the JSON that caused the failure was: "+e),t}catch(p){throw n}}};export{e as d};
